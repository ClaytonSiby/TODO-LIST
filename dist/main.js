(()=>{"use strict";document.querySelector("[data-list-display-container]"),document.querySelector("[data-list-title]");const e=document.querySelector("[data-lists]"),t=document.querySelector("[data-new-list-form]"),a=document.querySelector("[data-new-list-input]"),n=document.querySelector("[data-delete-list-button]"),l=document.querySelector("[data-tasks]"),d=(document.getElementById("task-template"),document.querySelector("[data-new-task-form]")),r=document.querySelector("[data-new-task-title]"),s=document.querySelector("[data-new-task-date]"),u=document.querySelector("[data-new-task-description]"),o=document.querySelector("[data-select-priority]"),c=document.querySelector("[data-clear-complete-tasks-button]");let i=JSON.parse(localStorage.getItem("task.lists"))||[],m=localStorage.getItem("task.selectedListId");e.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(m=e.target.dataset.listId,saveAndRender())})),l.addEventListener("click",(e=>{"input"===e.target.tagName.toLowerCase()&&(i.find((e=>e.id===m)).tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,saveAndRender())})),c.addEventListener("click",(e=>{const t=i.find((e=>e.id===m));t.tasks=t.tasks.filter((e=>!e.complete)),saveAndRender()})),n.addEventListener("click",(e=>{i=i.filter((e=>e.id!==m)),m=null,saveAndRender()})),t.addEventListener("submit",(e=>{e.preventDefault();const t=a.value;if(null==t||""===t)return;const n={id:Date.now().toString(),name:a.value,tasks:[]};a.value=null,i.push(n),saveAndRender()})),d.addEventListener("submit",(e=>{e.preventDefault();const t=r.value,a=s.value,n=u.value,l=o.value;if(!(t||a||n||l))return;const d={id:Date.now().toString(),name:r.value,date:s.value,priority:o.value,description:u.value,complete:!1};r.value=null,s.value=null,u.value=null,o.value=null,i.find((e=>e.id===m)).tasks.push(d),saveAndRender()})),render()})();